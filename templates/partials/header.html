{% load static marketing_icons %}
<header class="fixed top-0 w-full z-50 bg-transparent backdrop-blur-sm border-b border-white/50">
  <div class="container">
    <div class="flex h-20 items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3 flex-shrink-0">
        <img src="{% static 'images/logo.png' %}" alt="Todde" class="h-12 w-auto brightness-0 invert" />
      </a>

      <!-- Centered Navigation -->
      <nav class="hidden md:block">
        <ul class="flex items-center gap-8 text-sm font-medium text-white">
          <!-- New Cars Dropdown -->
          <li class="relative group">
            <a href="#" class="flex items-center gap-1 transition hover:text-todde-red py-6">
              New Cars
              {% marketing_icon 'heroicons:chevron-down' 'h-4 w-4' %}
            </a>
            <div class="absolute left-1/2 -translate-x-1/2 top-full w-48 bg-todde-dark-bg border border-white/10 shadow-xl rounded-sm hidden group-hover:block">
              <div class="py-2">
                <a href="{% url 'marketing:all_cars' %}" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition">All Car Brands</a>
                <a href="{% url 'marketing:all_cars' %}?electric=true" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition">Electric Vehicles</a>
              </div>
            </div>
          </li>
          
          <!-- Used Cars Dropdown -->
          <li class="relative group">
            <a href="#" class="flex items-center gap-1 transition hover:text-todde-red py-6">
              Used Cars
              {% marketing_icon 'heroicons:chevron-down' 'h-4 w-4' %}
            </a>
            <div class="absolute left-1/2 -translate-x-1/2 top-full w-48 bg-todde-dark-bg border border-white/10 shadow-xl rounded-sm hidden group-hover:block">
              <div class="py-2">
                <a href="{% url 'marketing:all_cars' %}?listing_type=foreign-used" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition">Foreign Used</a>
                <a href="{% url 'marketing:all_cars' %}?listing_type=registered" class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition">Nigerian Used</a>
              </div>
            </div>
          </li>

          <!-- Car Financing -->
          <li>
            <a href="{% url 'marketing:financing' %}" class="transition hover:text-todde-red py-6">Car Financing</a>
          </li>
        </ul>
      </nav>

      <!-- Right Actions -->
      <div class="flex items-center gap-6">
        <!-- Search Icon -->
        <button type="button" class="text-white hover:text-todde-red transition" onclick="document.getElementById('search-bar-container').classList.toggle('hidden'); document.getElementById('search-input').focus();">
           {% marketing_icon 'heroicons:magnifying-glass' 'h-5 w-5' %}
        </button>

        <!-- CTA Button -->
        <a href="{% url 'marketing:all_cars' %}" class="hidden border border-white/30 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-white hover:text-black sm:inline-block">
          Explore Vehicles
        </a>
      </div>
    </div>
    
    <!-- Hidden Search Bar (Expandable) -->
    <div id="search-bar-container" class="hidden border-t border-white/10 bg-todde-dark-bg py-4 absolute left-0 right-0 top-full shadow-xl">
       <div class="container">
         <form action="{% url 'marketing:all_cars' %}" method="GET" class="relative">
            <div class="relative">
                <input type="text" id="search-input" name="q" placeholder="Search cars, brands, models..." class="w-full bg-transparent border-b border-white/20 py-4 text-white placeholder-gray-500 focus:border-todde-red focus:outline-none text-xl" autocomplete="off" />
                <div id="search-results" class="hidden"></div>
            </div>
            <button type="submit" class="absolute right-0 top-4 text-gray-400 hover:text-white">
               {% marketing_icon 'heroicons:arrow-right' 'h-6 w-6' %}
            </button>
         </form>
       </div>
    </div>
  </div>
</header>
